(window["webpackJsonpsongs-app"]=window["webpackJsonpsongs-app"]||[]).push([[0],{122:function(e,t){},130:function(e,t,n){e.exports=n(67)},22:function(e,t,n){"use strict";n.d(t,"h",function(){return s}),n.d(t,"i",function(){return i}),n.d(t,"e",function(){return l}),n.d(t,"d",function(){return p}),n.d(t,"f",function(){return m}),n.d(t,"c",function(){return d}),n.d(t,"b",function(){return f}),n.d(t,"g",function(){return b}),n.d(t,"a",function(){return h});var r=n(26),a=n(6),c=n(67);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(n,!0).forEach(function(t){Object(r.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var s=function(e){return{type:a.k,payload:e}},i=function(){return{type:a.l}},l=function(){return{type:a.h}},p=function(e){return{type:a.g,id:e}},m=function(e,t){return{type:a.i,payload:{data:t,id:e}}},d=function(e){var t=c.store.getState().auth.userId;return{type:a.f,payload:u({},e,{userId:t})}},f=function(e){return{type:a.e,payload:e}},b=function(e){return{type:a.j,payload:e}},h=function(){return{type:a.a}}},244:function(e,t){},250:function(e,t){},6:function(e,t,n){"use strict";n.d(t,"k",function(){return r}),n.d(t,"l",function(){return a}),n.d(t,"d",function(){return c}),n.d(t,"h",function(){return o}),n.d(t,"c",function(){return u}),n.d(t,"g",function(){return s}),n.d(t,"m",function(){return i}),n.d(t,"i",function(){return l}),n.d(t,"b",function(){return p}),n.d(t,"f",function(){return m}),n.d(t,"e",function(){return d}),n.d(t,"j",function(){return f}),n.d(t,"a",function(){return b});var r="SIGN_IN",a="SIGN_OUT",c="RECEIVE_STREAMS",o="REQUEST_STREAMS",u="RECEIVE_STREAM",s="REQUEST_STREAM",i="UPDATE_STREAM",l="REQUEST_UPDATE_STREAM",p="NEW_STREAM",m="REQUEST_NEW_STREAM",d="REQUEST_DELETE_STREAM",f="SET_CURRENT_LANG",b="GET_CURRENT_LANG"},67:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(40),o=n.n(c),u=n(13),s=n(10),i=(n(138),n(120)),l=n(17),p=n(18),m=n(20),d=n(19),f=n(21),b=n(34),h=function(e){return o.a.createPortal(a.a.createElement("div",{onClick:e.onDismiss,className:"ui dimmer modals visible active"},a.a.createElement("div",{onClick:function(e){return e.stopPropagation()},className:"ui standard modal visible active"},a.a.createElement("div",{className:"header"},e.title),a.a.createElement("div",{className:"content"},a.a.createElement("p",null,e.content)),a.a.createElement("div",{className:"actions"},e.actions))),document.querySelector("#modal"))},g=n(24),O=Object(g.a)(),v=n(42),y=n(22),j=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props),this.props.requestStream(this.props.match.params.id)}},{key:"renderActions",value:function(){var e=this,t=this.props.match.params.id;return a.a.createElement(a.a.Fragment,null,a.a.createElement("button",{className:"ui negative button",onClick:function(){return e.props.requestDelete(t)}},"Delete"),a.a.createElement(v.a,{className:"ui cancel button",to:"/"},"Cancel"))}},{key:"renderContent",value:function(){return this.props.stream?"Are you sure you want to delete the stream with title ".concat(this.props.stream.title," ?"):"Are you sure you want to delete this stream ?"}},{key:"render",value:function(){return a.a.createElement("div",null,"Stream Delete",a.a.createElement(h,{title:"Delete Stream",content:this.renderContent(),actions:this.renderActions(),onDismiss:function(){return O.push("/")}}))}}]),t}(a.a.Component),E=Object(u.b)(function(e,t){return console.log(t),console.log(e),{stream:e.streams[t.match.params.id]}},{requestStream:y.d,requestDelete:y.b})(j),S=n(89),w=n(53),k=n.n(w),P=function(e){function t(){var e,n;Object(l.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).onSubmit=function(e){console.log(e),n.props.requestUpdateStream(n.props.match.params.id,e)},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.requestStream(this.props.match.params.id)}},{key:"render",value:function(){return this.props.stream?a.a.createElement("div",null,a.a.createElement("h3",null,"Edit Stream"),a.a.createElement(S.a,{initialValues:k.a.pick(this.props.stream,"title","description"),onSubmit:this.onSubmit})):a.a.createElement("div",null,"Loading ... ")}}]),t}(a.a.Component),D=Object(u.b)(function(e,t){return console.log(t),console.log(e),{stream:e.streams[t.match.params.id]}},{requestStream:y.d,requestUpdateStream:y.f})(P),x=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props),this.props.requestStream(this.props.match.params.id)}},{key:"renderContent",value:function(){return this.props.stream?a.a.createElement("div",null,a.a.createElement("h1",null,this.props.stream.title),a.a.createElement("h5",null,this.props.stream.description)):a.a.createElement("div",null,"...Loading")}},{key:"render",value:function(){return console.log(this.props.stream),a.a.createElement("div",null,this.renderContent())}}]),t}(a.a.Component),N=Object(u.b)(function(e,t){return console.log(t),console.log(e),console.log(e.streams),{stream:e.streams[t.match.params.id]}},{requestStream:y.d})(x),I=function(e){function t(){var e,n;Object(l.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).onSignIn=function(){n.auth.signIn()},n.onSignOut=function(){n.auth.signOut()},n.onAuthChange=function(e){e?n.props.signIn(n.auth.currentUser.get().getId()):n.props.signOut()},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.gapi.load("client:auth2",function(){window.gapi.client.init({clientId:"531338673112-u585rr4o2dvqe3qsn84rne8n93jktj1c.apps.googleusercontent.com",scope:"email"}).then(function(){e.auth=window.gapi.auth2.getAuthInstance(),e.onAuthChange(e.auth.isSignedIn.get()),e.auth.isSignedIn.listen(e.onAuthChange)})})}},{key:"renderAuthButton",value:function(){return null==this.props.isSignedIn?null:this.props.isSignedIn?a.a.createElement("button",{onClick:this.onSignOut,className:"ui red google button"},a.a.createElement("i",{className:"google icon"}),"Sign Out"):a.a.createElement("button",{onClick:this.onSignIn,className:"ui red google button"},a.a.createElement("i",{className:"google icon"}),"Sign in with Google")}},{key:"render",value:function(){return a.a.createElement("div",null,this.renderAuthButton())}}]),t}(a.a.Component),A=Object(u.b)(function(e){return{isSignedIn:e.auth.isSignedIn}},{signIn:y.h,signOut:y.i})(I),C=n(38),R=function(e){function t(){var e,n;Object(l.a)(this,t);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).switcher=function(e){console.log(e),"ar"==e?n.props.setCurrentLang("en"):n.props.setCurrentLang("ar")},n.renderLangSwitcher=function(){return console.log(n.props.lang),a.a.createElement("div",{className:"m-3"},a.a.createElement("button",{id:"en",className:"ui button",onClick:function(){return n.switcher("en")}},"English"),a.a.createElement("button",{id:"ar",className:"ui button",onClick:function(){return n.switcher("ar")}},"\u0627\u0644\u0639\u0631\u0628\u064a\u0629"),a.a.createElement("button",{id:"ar",className:"ui button",onClick:function(){return n.switcher(n.props.lang)}},"ar"==n.props.lang?"\u0627\u0644\u0639\u0631\u0628\u064a\u0629":"English"))},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props)}},{key:"render",value:function(){var e=this.props.intl.messages;return a.a.createElement("div",{className:"ui secondary pointing menu"},this.renderLangSwitcher(),a.a.createElement(v.a,{to:"/",className:"item"},e.streams),a.a.createElement("div",{className:"right menu"},a.a.createElement(v.a,{to:"/",className:"item"},e.goStreams),a.a.createElement(A,null)))}}]),t}(a.a.Component),T=Object(C.c)(R),_=Object(u.b)(function(e){return console.log(e),{lang:e.locale.lang}},{setCurrentLang:y.g,getCurrentLang:y.a})(T),U={en:{streams:"Streams",goStreams:"Go to streams"},ar:{streams:"\u0633\u062a\u0631\u064a\u0645\u0632",goStreams:"\u0627\u0644\u0630\u0647\u0627\u0628 \u0627\u0644\u0649 \u0643\u0644 \u0633\u062a\u0631\u064a\u0645\u0632"}},L={getAuth:function(){var e=xe.getState().auth;return console.log(e.isSignedIn),e.isSignedIn}},M=Object(r.lazy)(function(){return n.e(3).then(n.bind(null,271))}),q=Object(r.lazy)(function(){return n.e(4).then(n.bind(null,272))}),G=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.lang;return console.log(e),a.a.createElement(C.a,{locale:e,messages:U[e]},a.a.createElement("div",{className:"ui container"},a.a.createElement(b.c,{history:O},a.a.createElement("div",null,a.a.createElement(_,null),a.a.createElement(r.Suspense,{fallback:a.a.createElement("h1",null,"Still Loading\u2026")},a.a.createElement(b.d,null,a.a.createElement(q,{path:"/",exact:!0}),a.a.createElement(M,{path:"/streams/new",exact:!0}),a.a.createElement(Q,{path:"/streams/:id",exact:!0,component:N}),a.a.createElement(b.b,{path:"/streams/edit/:id",exact:!0,component:D}),a.a.createElement(b.b,{path:"/streams/delete/:id",exact:!0,component:E})))))))}}]),t}(a.a.Component),Q=function(e){var t=e.component,n=Object(i.a)(e,["component"]);return a.a.createElement(b.b,Object.assign({},n,{render:function(e){return!0===L.getAuth()?a.a.createElement(t,e):a.a.createElement(b.a,{to:{pathname:"/",state:{from:e.location}}})}}))},V=Object(u.b)(function(e){return console.log(e),{auth:e.auth,lang:e.locale.lang}})(G),B=n(270),z=n(26),F=n(6);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(n,!0).forEach(function(t){Object(z.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var W={isSignedIn:null,userId:null};function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(n,!0).forEach(function(t){Object(z.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var Z={lang:localStorage.getItem("lang")||"en"};var $=Object(s.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F.k:return J({},e,{isSignedIn:!0,userId:t.payload});case F.l:return J({},e,{isSignedIn:!1,userId:null});default:return e}},form:B.a,streams:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(console.log(t),t.type){case F.d:return Y({},e,{},k.a.mapKeys(t.payload,"id"));case F.b:case F.c:case F.m:return Y({},e,Object(z.a)({},t.payload.id,t.payload));case F.e:return k.a.omit(e,t.payload);default:return e}},locale:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F.j:return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(n,!0).forEach(function(t){Object(z.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{lang:t.payload});case F.a:default:return e}}}),ee=n(127),te=n(11),ne=n.n(te),re=n(14),ae=n(47),ce=n(124);function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!(e.hasOwnProperty("handlerEnabled")&&!e.handlerEnabled)},se=function(e){return ue(e.config)&&(alert("EROOOOR"),console.log("HANDLEDDD")),Promise.reject(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(n,!0).forEach(function(t){Object(z.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e))},ie=n.n(ce).a.create({baseURL:"http://localhost:3001"});ie.interceptors.request.use(function(e){return function(e){return ue(e)&&console.log("REQUEEST IS ON"),e}(e)}),ie.interceptors.response.use(function(e){return function(e){return ue(e.config)&&(alert("SUCESSS"),console.log("HANDLEDDD MARINAA INTERCEPTOR")),e}(e)},function(e){return se(e)});var le=ie,pe={getStreams:function(){var e=Object(ae.a)(ne.a.mark(function e(){return ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le.get("/streams",{handlerEnabled:!0});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),getStream:function(){var e=Object(ae.a)(ne.a.mark(function e(t){return ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le.get("/streams/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),addStream:function(){var e=Object(ae.a)(ne.a.mark(function e(t){return ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le.post("/streams",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),editStream:function(){var e=Object(ae.a)(ne.a.mark(function e(t){return ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le.patch("/streams/".concat(t.id),t.data);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),deleteStream:function(){var e=Object(ae.a)(ne.a.mark(function e(t){return ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,le.delete("/streams/".concat(t));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},me=ne.a.mark(Oe),de=ne.a.mark(ve),fe=ne.a.mark(ye),be=ne.a.mark(je),he=ne.a.mark(Ee),ge=ne.a.mark(Se);function Oe(){var e;return ne.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(re.a)(pe.getStreams);case 3:return e=t.sent,t.next=6,Object(re.b)({type:F.d,payload:e.data});case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}},me,null,[[0,8]])}function ve(e){var t,n;return ne.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.id,r.next=4,Object(re.a)(pe.getStream,t);case 4:return n=r.sent,r.next=7,Object(re.b)({type:F.c,payload:n.data});case 7:r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),console.log(r.t0);case 12:case"end":return r.stop()}},de,null,[[0,9]])}function ye(e){var t,n;return ne.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return console.log(e),r.prev=1,t=e.payload,r.next=5,Object(re.a)(pe.addStream,t);case 5:return n=r.sent,console.log(n),r.next=9,Object(re.b)({type:F.b,payload:n.data});case 9:O.push("/"),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(1),console.log(r.t0);case 15:case"end":return r.stop()}},fe,null,[[1,12]])}function je(e){var t,n;return ne.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.payload,console.log(t),r.next=5,Object(re.a)(pe.editStream,t);case 5:return n=r.sent,console.log(n),r.next=9,Object(re.b)({type:F.m,payload:n.data});case 9:O.push("/"),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(0),console.log(r.t0);case 15:case"end":return r.stop()}},be,null,[[0,12]])}function Ee(e){var t,n;return ne.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,console.log(e),t=e.payload,r.next=5,Object(re.a)(pe.deleteStream,t);case 5:return O.push("/"),r.next=8,Object(re.a)(pe.getStreams);case 8:return n=r.sent,console.log(n),r.next=12,Object(re.b)({type:F.d,payload:n.data});case 12:r.next=17;break;case 14:r.prev=14,r.t0=r.catch(0),console.log(r.t0);case 17:case"end":return r.stop()}},he,null,[[0,14]])}function Se(){return ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(re.c)(F.h,Oe);case 2:return e.next=4,Object(re.c)(F.g,ve);case 4:return e.next=6,Object(re.c)(F.f,ye);case 6:return e.next=8,Object(re.c)(F.i,je);case 8:return e.next=10,Object(re.c)(F.e,Ee);case 10:case"end":return e.stop()}},ge)}var we=n(125),ke=n(126);n.d(t,"store",function(){return xe});var Pe=Object(ee.a)();Object(C.b)(we),Object(C.b)(ke);var De=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d,xe=Object(s.e)($,De(Object(s.a)(Pe)));Pe.run(Se),o.a.render(a.a.createElement(u.a,{store:xe},a.a.createElement(V,null)),document.getElementById("root"))},89:function(e,t,n){"use strict";var r=n(17),a=n(18),c=n(20),o=n(19),u=n(21),s=n(0),i=n.n(s),l=n(128),p=n(269),m=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,u=new Array(a),s=0;s<a;s++)u[s]=arguments[s];return(n=Object(c.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(u)))).renderInput=function(e){var t=e.input,r=e.label,a=e.meta;console.log(a);var c="field ".concat(a.error&&a.touched?"error":"");return i.a.createElement("div",{className:c},i.a.createElement("label",null," ",r," "),i.a.createElement("input",t),n.renderError(a))},n.onSubmit=function(e){console.log(e),n.props.onSubmit(e)},n}return Object(u.a)(t,e),Object(a.a)(t,[{key:"renderError",value:function(e){var t=e.error;if(e.touched&&t)return i.a.createElement("div",{className:"ui error message"},i.a.createElement("div",{className:"header"},t))}},{key:"render",value:function(){return i.a.createElement("form",{className:"ui form error",onSubmit:this.props.handleSubmit(this.onSubmit)},i.a.createElement(l.a,{name:"title",component:this.renderInput,label:"Enter Title"}),i.a.createElement(l.a,{name:"description",component:this.renderInput,label:"Enter Description"}),i.a.createElement("button",{className:"ui button primary"},"Submit"))}}]),t}(i.a.Component);t.a=Object(p.a)({form:"StreamForm",validate:function(e){var t={};return e.title||(t.title="You must enter a title"),e.description||(t.description="You must enter a description"),t}})(m)}},[[130,1,2]]]);
//# sourceMappingURL=main.4db8f127.chunk.js.map